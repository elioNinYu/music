(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6cc5"],{"1f60":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mv-container"},[a("div",{staticClass:"mv-wrap"},[a("h3",{staticClass:"title"},[t._v("MV详情")]),a("div",{staticClass:"video-wrap"},[a("video",{attrs:{src:t.url,controls:""}})]),a("div",{staticClass:"info-wrap"},[a("div",{staticClass:"singer-info"},[a("div",{staticClass:"avatar-wrap"},[a("img",{attrs:{src:t.icon,alt:""}})]),a("span",{staticClass:"name"},[t._v(t._s(t.mvInfo.artistName))])]),a("div",{staticClass:"mv-info"},[a("h2",{staticClass:"title"},[t._v(t._s(t.mvInfo.name))]),a("span",{staticClass:"date"},[t._v("发布："+t._s(t.mvInfo.publishTime))]),a("span",{staticClass:"number"},[t._v("播放： "+t._s(t.mvInfo.playCount)+"次")]),a("p",{staticClass:"desc"},[t._v(t._s(t.mvInfo.desc))])])]),void 0!==t.hotComments&&0!==t.hotComments.length?a("div",{staticClass:"comment-wrap"},[a("p",{staticClass:"title"},[t._v(" 精彩评论"),a("span",{staticClass:"number"},[t._v("("+t._s(t.hotComments.length)+")")])]),a("div",{staticClass:"comments-wrap"},t._l(t.hotComments,(function(s,i){return a("div",{key:i,staticClass:"item"},[a("div",{staticClass:"icon-wrap"},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"content"},[a("span",{staticClass:"name"},[t._v(t._s(s.user.nickname))]),a("span",{staticClass:"comment"},[t._v(":"+t._s(s.content))])]),0!==s.beReplied.length?a("div",{staticClass:"re-content"},[a("span",{staticClass:"name"},[t._v(t._s(s.beReplied[0].user.nickname))]),a("span",{staticClass:"comment"},[t._v(":"+t._s(s.beReplied[0].content))])]):t._e(),a("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(s.time)))])])])})),0)]):t._e(),a("div",{staticClass:"comment-wrap"},[a("p",{staticClass:"title"},[t._v(" 最新评论"),a("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),a("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(s,i){return a("div",{key:i,staticClass:"item"},[a("div",{staticClass:"icon-wrap"},[a("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"content"},[a("span",{staticClass:"name"},[t._v(t._s(s.user.nickname))]),a("span",{staticClass:"commenr"},[t._v(":"+t._s(s.content))])]),0!==s.beReplied.length?a("div",{staticClass:"re-content"},[a("span",{staticClass:"name"},[t._v(t._s(s.beReplied[0].user.nickname))]),a("span",{staticClass:"comment"},[t._v(":"+t._s(s.beReplied[0].content))])]):t._e(),a("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(s.time)))])])])})),0)]),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.pageNum,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1),a("div",{staticClass:"mv-recommend"},[a("h3",{staticClass:"title"},[t._v("相关推荐")]),a("div",{staticClass:"mvs"},[a("div",{staticClass:"items"},t._l(t.simiMvs,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return t.toPlayMv(s.id)}}},[a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:s.cover,alt:""}}),a("div",{staticClass:"num-wrap"},[a("div",{staticClass:"num"},[t._v(t._s(t._f("playNumFormat")(s.playCount)))])]),a("span",{staticClass:"time"},[t._v(t._s(t._f("playTimeFormat")(s.duration)))])]),a("div",{staticClass:"info-wrap"},[a("div",{staticClass:"name"},[t._v(t._s(s.name))]),a("div",{staticClass:"singer"},[t._v(t._s(s.artistName))])])])})),0)])])])},e=[],n={name:"mv",data:function(){return{id:"",total:20,pageNum:1,pageSize:10,url:"",mvInfo:{},simiMvs:[],icon:"",hotComments:[],comments:[]}},created:function(){this.getMvUrl(),this.getSimiMv(),this.getMvDetail(),this.getMvComments()},methods:{handleCurrentChange:function(t){this.pageNum=t,this.getMvComments()},getArtistDetail:function(){var t=this;this.$http({method:"get",url:"artists",params:{id:this.mvInfo.artists[0].id}}).then((function(s){return t.icon=s.data.artist.picUrl}))},getMvUrl:function(){var t=this;this.$http({method:"get",url:"mv/url",params:{id:this.$route.query.id}}).then((function(s){return t.url=s.data.data.url}))},getSimiMv:function(){var t=this;this.$http({method:"get",url:"simi/mv",params:{mvid:this.$route.query.id}}).then((function(s){return t.simiMvs=s.data.mvs}))},getMvDetail:function(){var t=this;this.$http({method:"get",url:"mv/detail",params:{mvid:this.$route.query.id}}).then((function(s){t.mvInfo=s.data.data,t.getArtistDetail()}))},getMvComments:function(){var t=this;this.$http({method:"get",url:"comment/mv",params:{id:this.$route.query.id,limit:20,offset:(this.pageNum-1)*this.pageSize}}).then((function(s){t.hotComments=s.data.hotComments,t.total=s.data.total,t.comments=s.data.comments}))},toPlayMv:function(t){this.pageNum=1,this.id=t,this.getMvUrl(),this.getMvDetail(),this.getSimiMv(),this.getMvComments()}}},m=n,c=a("2877"),r=Object(c["a"])(m,i,e,!1,null,null,null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0b6cc5.db4d7497.js.map