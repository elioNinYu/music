(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e8ba0"],{"8b00":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"playlist-container"},[s("div",{staticClass:"top-wrap"},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:t.playlist.coverImgUrl,alt:""}})]),s("div",{staticClass:"info-wrap"},[s("p",{staticClass:"title"},[t._v(t._s(t.playlist.name))]),void 0!==t.playlist.creator?s("div",{staticClass:"author-wrap"},[s("img",{staticClass:"avatar",attrs:{src:t.playlist.creator.avatarUrl,alt:""}}),s("span",{staticClass:"name"},[t._v(t._s(t.playlist.creator.nickname))]),s("span",{staticClass:"time"},[t._v(t._s(t._f("dateFormat")(t.playlist.createTime))+"创建")])]):t._e(),s("div",{staticClass:"play-wrap",on:{click:function(a){return t.playAll()}}},[s("span",{staticClass:"iconfont icon-circle-play"}),s("span",{staticClass:"text"},[t._v("播放全部")])]),s("div",{staticClass:"tag-wrap"},[s("span",{staticClass:"title"},[t._v("标签：")]),s("ul",t._l(t.playlist.tags,(function(a,e){return s("li",{key:e},[t._v(" "+t._s(a)+" ")])})),0)]),s("div",{staticClass:"desc-wrap"},[s("span",{staticClass:"title"},[t._v("简介：")]),s("span",{staticClass:"desc"},[t._v(t._s(t.playlist.description))])])])]),s("el-tabs",[s("el-tab-pane",{attrs:{label:"歌曲列表"}},[s("table",{staticClass:"el-table playlist-table"},[s("thead",[s("th"),s("th"),s("th",[t._v("音乐标题")]),s("th",[t._v("歌手")]),s("th",[t._v("专辑")]),s("th",[t._v("时长")])]),s("tbody",t._l(t.playlist.tracks,(function(a,e){return s("tr",{key:e,staticClass:"el-table__row"},[s("td",[t._v(t._s(e+1))]),s("td",[s("div",{staticClass:"img-wrap",on:{click:function(s){return t.playMusic(a.id)}}},[s("img",{attrs:{src:a.al.picUrl,alt:""}})])]),s("td",[s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"name-wrap"},[s("span",[t._v(t._s(a.name))]),0!==a.mv?s("span",{staticClass:"iconfont icon-mv",on:{click:function(s){return t.toMV(a.mv)}}}):t._e()])])]),s("td",[t._v(t._s(a.ar[0].name))]),s("td",[t._v(t._s(a.al.name))]),s("td",[t._v(t._s(t._f("playTimeFormat")(a.dt)))])])})),0)])]),s("el-tab-pane",{attrs:{label:"评论("+t.total+")"}},[void 0!==t.hotComments&&0!==t.hotComments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 精彩评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.hotComments.length)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.hotComments,(function(a,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.content))])]),0!==a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.time)))])])])})),0)]):t._e(),s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 最新评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(a,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.content))])]),0!==a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.time)))])])])})),0)]),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.pageNum,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},i=[],n={name:"playlist",data:function(){return{id:"",activeIndex:"1",total:0,pageNum:1,pageSize:10,playlist:{},hotComments:[],comments:[]}},created:function(){var t=this;this.$http({method:"get",url:"playlist/detail",params:{id:this.$route.query.id}}).then((function(a){return t.playlist=a.data.playlist})),this.$http({method:"get",url:"comment/hot",params:{id:this.$route.query.id,type:2}}).then((function(a){t.hotComments=a.data.hotComments,t.total=a.data.total})),this.$http({method:"get",url:"comment/playlist",params:{id:this.$route.query.id,limit:this.pageSize,offset:(this.pageNum-1)*this.pageSize}}).then((function(a){t.total=a.data.total,t.comments=a.data.comments}))},methods:{handleCurrentChange:function(t){this.pageNum=t},playMusic:function(t){var a=this;this.$http({method:"get",url:"song/url",params:{id:t}}).then((function(t){return a.$parent.musicUrl=t.data.data[0].url}))},playAll:function(){},toMV:function(t){this.$router.push("/mv?id=".concat(t))}}},l=n,c=s("2877"),r=Object(c["a"])(l,e,i,!1,null,null,null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0e8ba0.d04bf3ab.js.map